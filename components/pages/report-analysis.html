<!-- 报表分析页面 -->
<div id="report-analysisPage" class="page">
    <div class="page-header">
        <h1>报表分析</h1>
        <div class="page-actions">
            <button class="btn btn-primary" onclick="exportDetailedData()">
                <span class="btn-icon">📊</span>
                导出数据
            </button>
            <button class="btn btn-secondary" onclick="toggleTableColumns()">
                <span class="btn-icon">⚙️</span>
                列设置
            </button>
        </div>
    </div>

    <div class="page-content">

        <!-- KPI卡片区域 -->
        <div class="kpi-section">
            <div class="kpi-cards">
                <div class="kpi-card">
                    <div class="metric-value">156.5小时</div>
                    <div class="metric-label">总工时</div>
                </div>
                <div class="kpi-card">
                    <div class="metric-value">19.6人天</div>
                    <div class="metric-label">总人天</div>
                </div>
                <div class="kpi-card">
                    <div class="metric-value">7.8小时/天</div>
                    <div class="metric-label">日均工时</div>
                </div>
                <div class="kpi-card">
                    <div class="metric-value">95.2%</div>
                    <div class="metric-label">填报率</div>
                </div>
            </div>
        </div>

        <!-- 图表区域 -->
        <div class="charts-section">
            <div class="chart-grid">
                <div class="chart-container">
                    <h3>工时统计报表</h3>
                    <div class="chart-placeholder">
                        <div class="chart-info">
                            <p>最近6个月总工时: 1,234.5小时</p>
                        </div>
                    </div>
                </div>
                <div class="chart-container">
                    <h3>项目进度报表</h3>
                    <div class="chart-placeholder">
                        <div class="chart-info">
                            <p>进行中项目: 8个</p>
                        </div>
                    </div>
                </div>
                <div class="chart-container">
                    <h3>财务分析报表</h3>
                    <div class="chart-placeholder">
                        <div class="chart-info">
                            <p>总收入: ¥1,234,567</p>
                        </div>
                    </div>
                </div>
                <div class="chart-container">
                    <h3>团队效率报表</h3>
                    <div class="chart-placeholder">
                        <div class="chart-info">
                            <p>最佳表现者: 张三</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 详细数据表格 -->
        <div class="table-section">
            <div class="table-header">
                <h3>详细数据</h3>
                <div class="table-actions">
                    <button class="btn btn-sm btn-secondary" onclick="refreshData()">刷新</button>
                </div>
            </div>
            
            <div class="table-container">
                <table class="data-table" id="timesheetAnalysisTable">
                    <thead>
                        <tr>
                            <th>日期</th>
                            <th>员工</th>
                            <th>项目</th>
                            <th>工时</th>
                            <th>人天</th>
                            <th>任务描述</th>
                            <th>状态</th>
                            <th>创建时间</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="8" style="text-align: center; padding: 20px; color: #999;">正在加载数据...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- 分页控件 -->
            <div class="pagination-container" style="margin-top: 12px;">
                <div class="pagination-info">
                    <span id="timesheet-detail-pagination-info">显示第 0-0 条，共 0 条记录</span>
                </div>
                <div class="pagination-controls">
                    <button class="pagination-btn" id="timesheet-detail-prev" onclick="changeTimesheetDetailPage(-1)">上一页</button>
                    <div class="pagination-pages" id="timesheet-detail-pages"></div>
                    <button class="pagination-btn" id="timesheet-detail-next" onclick="changeTimesheetDetailPage(1)">下一页</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// 报表分析页面初始化
document.addEventListener('DOMContentLoaded', function() {
    console.log('报表分析页面已加载');
    initReportTimeFilter();
});

function refreshData() {
    console.log('刷新报表数据');
    updateTableData();
    showNotification('数据已刷新', 'success');
}
</script>
